{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-10ee2743\"],{\"11a2\":function(t,e,a){\"use strict\";var i=a(\"bac3\"),s=a.n(i);s.a},\"3a26\":function(t,e,a){},7709:function(t,e,a){\"use strict\";var i=a(\"3a26\"),s=a.n(i);s.a},a434:function(t,e,a){\"use strict\";var i=a(\"23e7\"),s=a(\"23cb\"),o=a(\"a691\"),n=a(\"50c4\"),l=a(\"7b0b\"),r=a(\"65f0\"),c=a(\"8418\"),u=a(\"1dde\"),d=a(\"ae40\"),f=u(\"splice\"),m=d(\"splice\",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,g=9007199254740991,b=\"Maximum allowed length exceeded\";i({target:\"Array\",proto:!0,forced:!f||!m},{splice:function(t,e){var a,i,u,d,f,m,v=l(this),w=n(v.length),y=s(t,w),x=arguments.length;if(0===x?a=i=0:1===x?(a=0,i=w-y):(a=x-2,i=h(p(o(e),0),w-y)),w+a-i>g)throw TypeError(b);for(u=r(v,i),d=0;d<i;d++)f=y+d,f in v&&c(u,d,v[f]);if(u.length=i,a<i){for(d=y;d<w-i;d++)f=d+i,m=d+a,f in v?v[m]=v[f]:delete v[m];for(d=w;d>w-i+a;d--)delete v[d-1]}else if(a>i)for(d=w-i;d>y;d--)f=d+i-1,m=d+a-1,f in v?v[m]=v[f]:delete v[m];for(d=0;d<a;d++)v[d+y]=arguments[d+2];return v.length=w-i+a,u}})},bac3:function(t,e,a){},de2f:function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"H100 flex flexv\"},[a(\"div\",{staticClass:\"headBox flex\"},[a(\"el-button\",{attrs:{size:\"small\",type:\"primary\"},on:{click:function(e){t.infoDialog={show:\"goodedit\",value:{form:{},typeList:t.typeList}}}}},[t._v(\"添加分类\")]),a(\"div\",{staticClass:\"flex1\",staticStyle:{\"min-width\":\"15px\"}}),a(\"el-select\",{staticStyle:{\"margin-right\":\"15px\",width:\"120px\"},attrs:{size:\"small\",clearable:\"\",placeholder:\"请选择状态\"},model:{value:t.form.status,callback:function(e){t.$set(t.form,\"status\",e)},expression:\"form.status\"}},[a(\"el-option\",{attrs:{label:\"有效\",value:\"1\"}}),a(\"el-option\",{attrs:{label:\"无效\",value:\"2\"}})],1),a(\"el-input\",{staticStyle:{width:\"auto\",\"max-width\":\"240px\"},attrs:{size:\"small\",clearable:\"\",placeholder:\"请输入关键字查询\"},model:{value:t.form.keyword,callback:function(e){t.$set(t.form,\"keyword\",e)},expression:\"form.keyword\"}}),a(\"el-button\",{staticClass:\"ml15\",attrs:{size:\"small\",type:\"primary\"},on:{click:t.getList}},[t._v(\"筛选\")])],1),a(\"el-divider\"),a(\"div\",{ref:\"tableBox\",staticClass:\"flex1\"},[a(\"el-table\",{staticClass:\"table\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData.data,height:t.tableHeight,border:\"\",stripe:\"\"}},[a(\"el-table-column\",{attrs:{type:\"expand\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-table\",{staticStyle:{width:\"100%\",\"text-align\":\"center\"},attrs:{data:e.row.sub,border:\"\",align:\"center\"}},[a(\"el-table-column\",{attrs:{prop:\"name\",align:\"center\",label:\"子分类名称\",width:\"250\"}}),a(\"el-table-column\",{attrs:{prop:\"id\",align:\"center\",label:\"子分类id\"}}),a(\"el-table-column\",{attrs:{prop:\"icon\",align:\"center\",label:\"子分类图标\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return a(\"el-image\",{staticClass:\"image-box\",attrs:{src:t.row.icon,\"preview-src-list\":[t.row.icon]}},[a(\"div\",{staticClass:\"image-error-slot\",attrs:{slot:\"error\"},slot:\"error\"},[a(\"i\",{staticClass:\"el-icon-picture-outline\"})])])}}],null,!0)}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",\"min-width\":\"150px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"primary\",plain:\"\",round:\"\",size:\"mini\"},on:{click:function(a){t.infoDialog={show:\"goodedit\",value:{form:e.row,typeList:t.typeList}}}}},[t._v(\"编辑\")])]}}],null,!0)})],1)]}}])}),a(\"el-table-column\",{attrs:{prop:\"name\",label:\"分类名称\",align:\"center\",\"min-width\":\"165px\"}}),a(\"el-table-column\",{attrs:{prop:\"id\",label:\"分类id\",align:\"center\",\"min-width\":\"165px\"}}),a(\"el-table-column\",{attrs:{prop:\"icon\",align:\"center\",label:\"分类图标\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return a(\"el-image\",{staticClass:\"image-box\",attrs:{src:t.row.icon,\"preview-src-list\":[t.row.icon]}},[a(\"div\",{staticClass:\"image-error-slot\",attrs:{slot:\"error\"},slot:\"error\"},[a(\"i\",{staticClass:\"el-icon-picture-outline\"})])])}}])}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"状态\",\"min-width\":\"65px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return a(\"el-switch\",{attrs:{\"active-value\":1,\"inactive-value\":2},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,\"status\",a)},expression:\"scope.row.status\"}})}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",\"min-width\":\"180px\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"primary\",plain:\"\",round:\"\",size:\"mini\"},on:{click:function(a){t.infoDialog={show:\"goodedit\",value:{form:e.row}}}}},[t._v(\"编辑\")]),a(\"el-button\",{attrs:{type:\"primary\",plain:\"\",round:\"\",size:\"mini\"},on:{click:function(a){t.infoDialog={show:\"goodedit\",value:{pid:e.row.id}}}}},[t._v(\"添加子分类\")])]}}])})],1)],1),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"15px\"},attrs:{background:\"\",layout:\"prev, pager, next\",\"current-page\":t.form.page,\"page-size\":t.tableData.per_page,\"page-count\":t.tableData.last_page,total:t.tableData.total},on:{\"update:currentPage\":function(e){return t.$set(t.form,\"page\",e)},\"update:current-page\":function(e){return t.$set(t.form,\"page\",e)}}}),a(\"goodedit\",{attrs:{show:t.infoDialog.show,value:t.infoDialog.value},on:{visibleChange:t.InfoVisibleChange}})],1)},s=[],o=a(\"fd03\"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"el-dialog\",{staticClass:\"mydialog\",attrs:{title:t.form.id?\"修改商品\":\"添加商品\",visible:t.show===t.$options.name,\"close-on-click-modal\":!1,\"append-to-body\":\"\",width:\"700px\"},on:{close:t.close,closed:t.closed}},[a(\"el-form\",{staticClass:\"form-box\",attrs:{size:\"mini\",\"label-width\":\"80px\"}},[a(\"el-row\",[a(\"el-col\",{attrs:{span:24}},[a(\"el-form-item\",{attrs:{label:\"分类名称\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入商品名称\",clearable:\"\"},model:{value:t.form.name,callback:function(e){t.$set(t.form,\"name\",e)},expression:\"form.name\"}})],1)],1),a(\"el-col\",{attrs:{span:24}},[a(\"el-form-item\",{attrs:{label:\"图标\"}},[a(\"div\",{staticClass:\"ali-c\"},[a(\"el-upload\",{staticClass:\"upload-box\",attrs:{name:\"upload_file\",action:t.uploadcover.url,data:{token:t.uploadcover.token},\"show-file-list\":!1,\"on-success\":t.uploadCover}},[t.form.icon?a(\"img\",{staticClass:\"avatar\",attrs:{src:t.form.icon}}):a(\"i\",{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),a(\"div\",{staticStyle:{\"margin-left\":\"15px\",color:\"#ccc\",\"font-size\":\"12px\",\"line-height\":\"1.5\"}},[t._v(\" 封面图片尺寸:宽:100像素,高:100像素. \")])],1)])],1)],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{size:\"medium\"},on:{click:t.close}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{size:\"medium\",type:\"primary\"},on:{click:t.submit}},[t._v(\"提 交\")])],1),t.viewIndex>=0?a(\"el-image-viewer\",{attrs:{\"on-close\":t.viewIndexClose,\"url-list\":this.form.goods_image,initialIndex:t.viewIndex}}):t._e()],1)],1)},l=[],r=(a(\"a434\"),a(\"b0c0\"),a(\"08a9\")),c={name:\"goodedit\",components:{ElImageViewer:r[\"a\"]},props:{value:{type:Object},show:{type:String}},computed:{showvideo:function(){return 1!=this.form.type&&\"\"!=this.form.path}},watch:{show:function(t){t===this.$options.name&&(this.$ObjectMixed(this.form,this.value.form),this.uploadcover.token=this.$store.getters.getToken,console.log(this.value),this.typeList=this.value.typeList,this.form.pid=this.value.pid)},content:function(t){this.form.desc=t}},data:function(){return{isSon:!1,activeName:\"first\",classifyList:[],typeList:[],viewIndex:-1,content:\"\",uploadcover:{url:o[\"a\"]+\"admin/upload\",token:\"\"},form:{token:\"\",id:\"\",name:\"\",icon:\"\",pid:\"\"}}},methods:{checkType:function(t){this.form.pid=t},viewIndexClose:function(){this.viewIndex=-1},handleRemove:function(t,e){console.log(\"删除文件\")},handlePreview:function(t){console.log(\"上传文件\")},removeImages:function(t){var e=this;this.$confirm(\"确定删除此图片吗？\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){e.form.banner.splice(t,1)})).catch((function(){}))},submit:function(){var t=this;Object(o[\"e\"])(this.form).then((function(e){t.$message.success({message:e.msg||\"操作成功\"}),t.$emit(\"visibleChange\",{getList:!0,show:\"\"})}))},close:function(){this.$emit(\"visibleChange\",{getList:!1,show:\"\"})},closed:function(){Object.assign(this.$data,this.$options.data())},uploadCover:function(t){this.form.icon=t.data},uploadResources:function(t){console.log(t),1!=t.code?this.$message.error({message:t.msg||\"未知错误\"}):this.form.goods_image.push(t.data),this.$message.success({message:\"上传成功\"})},uploadResources2:function(t){console.log(t),1!=t.code?this.$message.error({message:t.msg||\"未知错误\"}):this.form.info_images.push(t.data),this.$message.success({message:\"上传成功\"})}}},u=c,d=(a(\"11a2\"),a(\"2877\")),f=Object(d[\"a\"])(u,n,l,!1,null,\"2973c32e\",null),m=f.exports,p={name:\"order\",components:{goodedit:m},watch:{\"form.page\":function(t){t&&this.getList()}},data:function(){return{tableHeight:null,infoDialog:{show:\"\",value:{}},form:{keyword:\"\",status:\"\",key:\"\",page:1},statusList:[],typeList:[],tableData:{}}},mounted:function(){this.tableHeight=this.$refs.tableBox.offsetHeight+\"px\",this.$ObjectMixed(this.form,this.$route.query),this.getStatusList(),this.getList()},beforeRouteUpdate:function(t,e,a){Object.assign(this.$data,this.$options.data()),this.getStatusList(),this.getList(),a()},methods:{del:function(t){var e=this;this.$confirm(\"此操作将永久删除该文件, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){e.$message({type:\"success\",message:\"删除成功!\"}),setResource({id:t.id,mode:\"del\"}).then((function(t){e.getList()}))})).catch((function(){e.$message({type:\"info\",message:\"已取消删除\"})}))},getList:function(){var t=this;Object(o[\"h\"])(this.form).then((function(e){t.tableData=e.data,t.typeList=e.data.data,console.log(e.data)}))},changeStatus:function(t){var e=this;Object(o[\"d\"])({id:t.id,mode:\"status\"}).then((function(a){1!=a.code&&(t.status=1==t.status?2:1,e.$message.error({message:a.msg||\"未知错误\"}))}))},InfoVisibleChange:function(t){t.show||(this.infoDialog.value={},this.infoDialog.show=\"\"),t.getList&&this.getList()},getStatusList:function(){}}},h=p,g=(a(\"7709\"),Object(d[\"a\"])(h,i,s,!1,null,\"6e86afc6\",null));e[\"default\"]=g.exports}}]);","extractedComments":[]}