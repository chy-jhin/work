{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\view\\config\\components\\roleSave.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\view\\config\\components\\roleSave.vue","mtime":1598317124454},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJvbGVBdXRoTGlzdCBhcyBfZ2V0TGlzdCwgcm9sZVNhdmUgYXMgc2F2ZSB9IGZyb20gIkAvcmVxdWVzdC9hcGkuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInJvbGVTYXZlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogW10sCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBhdXRoX2xpc3Q6IFtdLAogICAgICAgIHN0YXR1czogMQogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIHNob3c6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2hvdzogZnVuY3Rpb24gc2hvdyh2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gdGhpcy4kb3B0aW9ucy5uYW1lKSB7CiAgICAgICAgdGhpcy4kT2JqZWN0TWl4ZWQodGhpcy5mb3JtLCB0aGlzLnZhbHVlKTsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF9nZXRMaXN0KHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5kYXRhID0gcmVzLmRhdGE7CgogICAgICAgIGlmIChfdGhpcy5mb3JtLmF1dGhfbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKF90aGlzLnZhbHVlLmF1dGhfbGlzdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmZvcm0uYXV0aF9saXN0ID0gdGhpcy4kcmVmcy50cmVlLmdldENoZWNrZWRLZXlzKCk7CiAgICAgIHNhdmUodGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICBtZXNzYWdlOiByZXMubXNnIHx8ICLmk43kvZzmiJDlip8iCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi4kZW1pdCgidmlzaWJsZUNoYW5nZSIsIHsKICAgICAgICAgIGdldExpc3Q6IHRydWUsCiAgICAgICAgICBzaG93OiAiIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoInZpc2libGVDaGFuZ2UiLCB7CiAgICAgICAgZ2V0TGlzdDogdGhpcy5wYXJlbnRSZWZyZXNoLAogICAgICAgIHNob3c6ICIiCiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlZDogZnVuY3Rpb24gY2xvc2VkKCkgewogICAgICBPYmplY3QuYXNzaWduKHRoaXMuJGRhdGEsIHRoaXMuJG9wdGlvbnMuZGF0YSgpKTsKICAgICAgdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKFtdKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["roleSave.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,YAAA,IAAA,QAAA,EAAA,QAAA,IAAA,IAAA,QAAA,kBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA,EAHA;AAIA,QAAA,MAAA,EAAA;AAJA;AAFA,KAAA;AASA,GAZA;AAaA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAJA,GAbA;AAqBA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,gBACA,GADA,EACA;AACA,UAAA,GAAA,KAAA,KAAA,QAAA,CAAA,IAAA,EAAA;AACA,aAAA,YAAA,CAAA,KAAA,IAAA,EAAA,KAAA,KAAA;AACA,aAAA,OAAA;AACA;AACA;AANA,GArBA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,QAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,cAAA,CAAA,KAAA,CAAA,KAAA,CAAA,SAAA;AACA;AACA,OALA;AAMA,KARA;AASA,IAAA,MATA,oBASA;AAAA;;AACA,WAAA,IAAA,CAAA,SAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,cAAA,EAAA;AACA,MAAA,IAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,UAAA,OAAA,EAAA,GAAA,CAAA,GAAA,IAAA;AADA,SAAA;;AAGA,QAAA,MAAA,CAAA,KAAA,CAAA,eAAA,EAAA;AAAA,UAAA,OAAA,EAAA,IAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OALA;AAMA,KAjBA;AAkBA,IAAA,KAlBA,mBAkBA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA;AAAA,QAAA,OAAA,EAAA,KAAA,aAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KApBA;AAqBA,IAAA,MArBA,oBAqBA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,KAAA,KAAA,EAAA,KAAA,QAAA,CAAA,IAAA,EAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,cAAA,CAAA,EAAA;AACA;AAxBA;AA7BA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      :title=\"form.id != null?'修改角色':'添加角色'\"\r\n      :visible=\"show === $options.name\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"close\"\r\n      append-to-body\r\n      @closed=\"closed\"\r\n      width=\"680px\"\r\n    >\r\n      <el-form size=\"mini\" label-width=\"120px\">\r\n        <el-form-item style=\"width:50%;display:inline-block\" label=\"角色名称\">\r\n          <el-input v-model=\"form.name\" placeholder=\"请输入角色名称\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item style=\"width:50%;display:inline-block\" label=\"角色状态\">\r\n          <el-switch v-model=\"form.status\" :active-value=\"1\" :inactive-value=\"2\"></el-switch>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"关联权限\">\r\n          <el-tree\r\n            class=\"tree\"\r\n            ref=\"tree\"\r\n            :data=\"data\"\r\n            show-checkbox\r\n            node-key=\"authIndex\"\r\n            default-expand-all\r\n            check-strictly\r\n            :props=\"{children: 'item',label:'authName'}\"\r\n          >\r\n            <div class=\"el-tree-node__label jus-b\" slot-scope=\"{ node, data }\">\r\n              <span>{{node.data.authName}}</span>\r\n              <span class=\"tips\" v-if=\"!node.data.item\">{{node.data.authIndex}}</span>\r\n            </div>\r\n          </el-tree>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"medium\" @click=\"close\">取 消</el-button>\r\n        <el-button size=\"medium\" type=\"primary\" @click=\"submit\">提 交</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { roleAuthList as getList, roleSave as save } from \"@/request/api.js\";\r\nexport default {\r\n  name: \"roleSave\",\r\n  data() {\r\n    return {\r\n      data: [],\r\n      form: {\r\n        id: null,\r\n        name: \"\",\r\n        auth_list: [],\r\n        status: 1\r\n      }\r\n    };\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Object\r\n    },\r\n    show: {\r\n      type: String\r\n    }\r\n  },\r\n  watch: {\r\n    show(val) {\r\n      if (val === this.$options.name) {\r\n        this.$ObjectMixed(this.form, this.value);\r\n        this.getList();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getList() {\r\n      getList({}).then(res => {\r\n        this.data = res.data;\r\n        if (this.form.auth_list.length > 0) {\r\n          this.$refs.tree.setCheckedKeys(this.value.auth_list);\r\n        }\r\n      });\r\n    },\r\n    submit() {\r\n      this.form.auth_list = this.$refs.tree.getCheckedKeys();\r\n      save(this.form).then(res => {\r\n        this.$message.success({\r\n          message: res.msg || \"操作成功\"\r\n        });\r\n        this.$emit(\"visibleChange\", { getList: true, show: \"\" });\r\n      });\r\n    },\r\n    close() {\r\n      this.$emit(\"visibleChange\", { getList: this.parentRefresh, show: \"\" });\r\n    },\r\n    closed() {\r\n      Object.assign(this.$data, this.$options.data());\r\n      this.$refs.tree.setCheckedKeys([]);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.tree {\r\n  height: 420px;\r\n  overflow-y: auto;\r\n}\r\n.el-tree-node__label {\r\n  width: 100%;\r\n  .tips {\r\n    font-size: 12px;\r\n    color: #999;\r\n    padding-right: 15px;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/view/config/components"}]}