{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\store\\index.js","mtime":1597733019886},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKVnVlLnVzZShWdWV4KTsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICBhdXRoTGlzdDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oImF1dGhMaXN0IikgfHwgIltdIiwKICAgIHVzZXJOYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlck5hbWUiKSB8fCAi5pyq55+l55So5oi3IiwKICAgIHRpbWVyOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oc3RhdGUpIHsKICAgICAgaWYgKCFzdGF0ZS50b2tlbikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gc3RhdGUudG9rZW47CiAgICAgIH0KICAgIH0sCiAgICBnZXRBdXRoTGlzdDogZnVuY3Rpb24gZ2V0QXV0aExpc3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIHR5cGVvZiBzdGF0ZS5hdXRoTGlzdCA9PSAnc3RyaW5nJyA/IEpTT04ucGFyc2Uoc3RhdGUuYXV0aExpc3QpIDogc3RhdGUuYXV0aExpc3Q7CiAgICB9LAogICAgZ2V0VXNlck5hbWU6IGZ1bmN0aW9uIGdldFVzZXJOYW1lKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyTmFtZTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhMaXN0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJOYW1lJyk7CiAgICAgICAgc3RhdGUudG9rZW4gPSB1bmRlZmluZWQ7CiAgICAgICAgc3RhdGUuYXV0aExpc3QgPSBbXTsKICAgICAgICBzdGF0ZS51c2VyTmFtZSA9ICfmnKrnn6XnlKjmiLcnOwogICAgICAgIHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIH0KICAgIH0sCiAgICBzZXRBdXRoTGlzdDogZnVuY3Rpb24gc2V0QXV0aExpc3Qoc3RhdGUsIGF1dGhMaXN0KSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoTGlzdCcsIEpTT04uc3RyaW5naWZ5KGF1dGhMaXN0KSk7CiAgICAgIHN0YXRlLmF1dGhMaXN0ID0gYXV0aExpc3Q7CiAgICB9LAogICAgc2V0VXNlck5hbWU6IGZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlLCB1c2VyTmFtZSkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlck5hbWUnLCB1c2VyTmFtZSk7CiAgICAgIHN0YXRlLnVzZXJOYW1lID0gdXNlck5hbWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oY3R4LCB0b2tlbikgewogICAgICBjdHguY29tbWl0KCdzZXRUb2tlbicsIHRva2VuKTsKICAgIH0sCiAgICBzZXRBdXRoTGlzdDogZnVuY3Rpb24gc2V0QXV0aExpc3QoY3R4LCBhdXRoTGlzdCkgewogICAgICBjdHguY29tbWl0KCdzZXRBdXRoTGlzdCcsIGF1dGhMaXN0KTsKICAgIH0sCiAgICBzZXRVc2VyTmFtZTogZnVuY3Rpb24gc2V0VXNlck5hbWUoY3R4LCB1c2VyTmFtZSkgewogICAgICBjdHguY29tbWl0KCdzZXRVc2VyTmFtZScsIHVzZXJOYW1lKTsKICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["C:/Users/yujing/Desktop/vue/Admin/tt-shop/src/store/index.js"],"names":["Vue","Vuex","router","use","store","Store","state","token","localStorage","getItem","authList","userName","timer","getters","getToken","getAuthList","JSON","parse","getUserName","mutations","setToken","removeItem","undefined","replace","path","setItem","setAuthList","stringify","setUserName","actions","ctx","commit"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,IAAMG,KAAK,GAAG,IAAIH,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACNC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADD;AAENC,IAAAA,QAAQ,EAAEF,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC,IAFxC;AAGNE,IAAAA,QAAQ,EAAEH,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoC,MAHxC;AAING,IAAAA,KAAK,EAAC;AAJA,GADqB;AAO5BC,EAAAA,OAAO,EAAE;AACRC,IAAAA,QADQ,oBACCR,KADD,EACQ;AACf,UAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AACjB,eAAO,KAAP;AACA,OAFD,MAEO;AACN,eAAOD,KAAK,CAACC,KAAb;AACA;AACD,KAPO;AAQRQ,IAAAA,WARQ,uBAQIT,KARJ,EAQW;AAClB,aAAO,OAAQA,KAAK,CAACI,QAAd,IAA2B,QAA3B,GAAsCM,IAAI,CAACC,KAAL,CAAWX,KAAK,CAACI,QAAjB,CAAtC,GAAmEJ,KAAK,CAACI,QAAhF;AACA,KAVO;AAWRQ,IAAAA,WAXQ,uBAWIZ,KAXJ,EAWW;AAClB,aAAOA,KAAK,CAACK,QAAb;AACA;AAbO,GAPmB;AAsB5BQ,EAAAA,SAAS,EAAE;AACVC,IAAAA,QADU,oBACDd,KADC,EACMC,KADN,EACa;AACtB,UAAI,CAACA,KAAL,EAAY;AACXC,QAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACAb,QAAAA,YAAY,CAACa,UAAb,CAAwB,UAAxB;AACAb,QAAAA,YAAY,CAACa,UAAb,CAAwB,UAAxB;AACAf,QAAAA,KAAK,CAACC,KAAN,GAAce,SAAd;AACAhB,QAAAA,KAAK,CAACI,QAAN,GAAiB,EAAjB;AACAJ,QAAAA,KAAK,CAACK,QAAN,GAAiB,MAAjB;AACAT,QAAAA,MAAM,CAACqB,OAAP,CAAe;AACdC,UAAAA,IAAI,EAAE;AADQ,SAAf;AAGA,OAVD,MAUO;AACNhB,QAAAA,YAAY,CAACiB,OAAb,CAAqB,OAArB,EAA8BlB,KAA9B;AACAD,QAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACA;AACD,KAhBS;AAiBVmB,IAAAA,WAjBU,uBAiBEpB,KAjBF,EAiBSI,QAjBT,EAiBmB;AAC5BF,MAAAA,YAAY,CAACiB,OAAb,CAAqB,UAArB,EAAiCT,IAAI,CAACW,SAAL,CAAejB,QAAf,CAAjC;AACAJ,MAAAA,KAAK,CAACI,QAAN,GAAiBA,QAAjB;AACA,KApBS;AAqBVkB,IAAAA,WArBU,uBAqBEtB,KArBF,EAqBSK,QArBT,EAqBmB;AAC5BH,MAAAA,YAAY,CAACiB,OAAb,CAAqB,UAArB,EAAiCd,QAAjC;AACAL,MAAAA,KAAK,CAACK,QAAN,GAAiBA,QAAjB;AACA;AAxBS,GAtBiB;AAgD5BkB,EAAAA,OAAO,EAAE;AACRT,IAAAA,QADQ,oBACCU,GADD,EACMvB,KADN,EACa;AACpBuB,MAAAA,GAAG,CAACC,MAAJ,CAAW,UAAX,EAAuBxB,KAAvB;AACA,KAHO;AAIRmB,IAAAA,WAJQ,uBAIII,GAJJ,EAISpB,QAJT,EAImB;AAC1BoB,MAAAA,GAAG,CAACC,MAAJ,CAAW,aAAX,EAA0BrB,QAA1B;AACA,KANO;AAORkB,IAAAA,WAPQ,uBAOIE,GAPJ,EAOSnB,QAPT,EAOmB;AAC1BmB,MAAAA,GAAG,CAACC,MAAJ,CAAW,aAAX,EAA0BpB,QAA1B;AACA;AATO;AAhDmB,CAAf,CAAd;AA6DA,eAAeP,KAAf","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport router from '../router';\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n\tstate: {\r\n\t\ttoken: localStorage.getItem(\"token\"),\r\n\t\tauthList: localStorage.getItem(\"authList\") || \"[]\",\r\n\t\tuserName: localStorage.getItem(\"userName\") || \"未知用户\",\r\n\t\ttimer:null\r\n\t},\r\n\tgetters: {\r\n\t\tgetToken(state) {\r\n\t\t\tif (!state.token) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn state.token;\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetAuthList(state) {\r\n\t\t\treturn typeof (state.authList) == 'string' ? JSON.parse(state.authList) : state.authList;\r\n\t\t},\r\n\t\tgetUserName(state) {\r\n\t\t\treturn state.userName;\r\n\t\t}\r\n\t},\r\n\tmutations: {\r\n\t\tsetToken(state, token) {\r\n\t\t\tif (!token) {\r\n\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\tlocalStorage.removeItem('authList');\r\n\t\t\t\tlocalStorage.removeItem('userName');\r\n\t\t\t\tstate.token = undefined;\r\n\t\t\t\tstate.authList = [];\r\n\t\t\t\tstate.userName = '未知用户';\r\n\t\t\t\trouter.replace({\r\n\t\t\t\t\tpath: '/login'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tstate.token = token;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAuthList(state, authList) {\r\n\t\t\tlocalStorage.setItem('authList', JSON.stringify(authList));\r\n\t\t\tstate.authList = authList;\r\n\t\t},\r\n\t\tsetUserName(state, userName) {\r\n\t\t\tlocalStorage.setItem('userName', userName);\r\n\t\t\tstate.userName = userName;\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tsetToken(ctx, token) {\r\n\t\t\tctx.commit('setToken', token);\r\n\t\t},\r\n\t\tsetAuthList(ctx, authList) {\r\n\t\t\tctx.commit('setAuthList', authList);\r\n\t\t},\r\n\t\tsetUserName(ctx, userName) {\r\n\t\t\tctx.commit('setUserName', userName);\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport default store\r\n"]}]}