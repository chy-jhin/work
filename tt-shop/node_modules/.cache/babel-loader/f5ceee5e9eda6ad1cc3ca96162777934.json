{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\wangEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\wangEditor.vue","mtime":1604741876676},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBBUElfVVJMIH0gZnJvbSAiQC9yZXF1ZXN0L2FwaSI7CmltcG9ydCBFIGZyb20gIndhbmdlZGl0b3IiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIndhbmdFZGl0b3IiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3I6IG51bGwKICAgIH07CiAgfSwKICBtb2RlbDogewogICAgcHJvcDogInZhbHVlIiwKICAgIGV2ZW50OiAiY2hhbmdlIgogIH0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiNDgwcHgiCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCwgb2xkKSB7CiAgICAgIGlmICghb2xkIHx8ICF2YWwpIHsKICAgICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh2YWwpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmVkaXRvciA9IG5ldyBFKHRoaXMuJHJlZnMudG9vbGJhciwgdGhpcy4kcmVmcy50ZXh0KTsgLy8g6Ieq5a6a5LmJ6I+c5Y2V6YWN572uCgogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLm1lbnVzID0gWyJoZWFkIiwgLy8g5qCH6aKYCiAgICAiYm9sZCIsIC8vIOeyl+S9kwogICAgImZvbnRTaXplIiwgLy8g5a2X5Y+3CiAgICAiZm9udE5hbWUiLCAvLyDlrZfkvZMKICAgICJpdGFsaWMiLCAvLyDmlpzkvZMKICAgICJ1bmRlcmxpbmUiLCAvLyDkuIvliJLnur8KICAgICJzdHJpa2VUaHJvdWdoIiwgLy8g5Yig6Zmk57q/CiAgICAiZm9yZUNvbG9yIiwgLy8g5paH5a2X6aKc6ImyCiAgICAiYmFja0NvbG9yIiwgLy8g6IOM5pmv6aKc6ImyCiAgICAvLyAibGluayIsIC8vIOaPkuWFpemTvuaOpQogICAgImxpc3QiLCAvLyDliJfooagKICAgICJqdXN0aWZ5IiwgLy8g5a+56b2Q5pa55byPCiAgICAicXVvdGUiLCAvLyDlvJXnlKgKICAgIC8vICJlbW90aWNvbiIsIC8vIOihqOaDhQogICAgImltYWdlIiwgLy8g5o+S5YWl5Zu+54mHCiAgICAidGFibGUiLCAvLyDooajmoLwKICAgIC8vICJ2aWRlbyIsIC8vIOaPkuWFpeinhumikQogICAgImNvZGUiLCAvLyDmj5LlhaXku6PnoIEKICAgICJ1bmRvIiwgLy8g5pKk6ZSACiAgICAicmVkbyIgLy8g6YeN5aSNCiAgICBdOwogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLmRlYnVnID0gZmFsc2U7IC8vIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy5wYXN0ZUlnbm9yZUltZyA9IHRydWU7CgogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1NlcnZlciA9IEFQSV9VUkwgKyAiYWRtaW4vdXBsb2FkIjsgLy8g6YWN572u5pyN5Yqh5Zmo56uv5Zyw5Z2ACgogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1BhcmFtcyA9IHsKICAgICAgdG9rZW46IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VG9rZW4KICAgIH07CiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkRmlsZU5hbWUgPSAidXBsb2FkX2ZpbGUiOyAvLyDlkI7nq6/mjqXlj5fkuIrkvKDmlofku7bnmoTlj4LmlbDlkI0KCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nTWF4TGVuZ3RoID0gMTsgLy8g6ZmQ5Yi25LiA5qyh5pyA5aSa5LiK5LygIDMg5byg5Zu+54mHCgogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ0hvb2tzID0gewogICAgICBjdXN0b21JbnNlcnQ6IGZ1bmN0aW9uIGN1c3RvbUluc2VydChpbnNlcnRJbWcsIHJlc3VsdCwgZWRpdG9yKSB7CiAgICAgICAgaW5zZXJ0SW1nKHJlc3VsdC5kYXRhKTsKICAgICAgfQogICAgfTsKCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcub25jaGFuZ2UgPSBmdW5jdGlvbiAoaHRtbCkgewogICAgICBjb25zb2xlLmxvZyhodG1sLm1hdGNoKC88aW1nLis/Pi9pZ20pKTsKCiAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoImNoYW5nZSIsIGh0bWwpOyAvLyDlsIblhoXlrrnlkIzmraXliLDniLbnu4Tku7bkuK0KCiAgICAgIH0pOwogICAgfTsgLy8g5Yib5bu65a+M5paH5pys57yW6L6R5ZmoCgoKICAgIHRoaXMuZWRpdG9yLmNyZWF0ZSgpOwogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5lZGl0b3IudHh0Lmh0bWwoX3RoaXMudmFsdWUpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7fQp9Ow=="},{"version":3,"sources":["wangEditor.vue"],"names":[],"mappings":";;;;;;;;;;AASA,SAAA,OAAA,QAAA,eAAA;AACA,OAAA,CAAA,MAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,OADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAPA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GAXA;AAqBA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,iBACA,GADA,EACA,GADA,EACA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,GAAA,EAAA;AACA,aAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA;AALA,GArBA;AA4BA,EAAA,OA5BA,qBA4BA;AAAA;;AACA,SAAA,MAAA,GAAA,IAAA,CAAA,CAAA,KAAA,KAAA,CAAA,OAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,CADA,CAEA;;AACA,SAAA,MAAA,CAAA,YAAA,CAAA,KAAA,GAAA,CACA,MADA,EACA;AACA,UAFA,EAEA;AACA,cAHA,EAGA;AACA,cAJA,EAIA;AACA,YALA,EAKA;AACA,eANA,EAMA;AACA,mBAPA,EAOA;AACA,eARA,EAQA;AACA,eATA,EASA;AACA;AACA,UAXA,EAWA;AACA,aAZA,EAYA;AACA,WAbA,EAaA;AACA;AACA,WAfA,EAeA;AACA,WAhBA,EAgBA;AACA;AACA,UAlBA,EAkBA;AACA,UAnBA,EAmBA;AACA,UApBA,CAoBA;AApBA,KAAA;AAsBA,SAAA,MAAA,CAAA,YAAA,CAAA,KAAA,GAAA,KAAA,CAzBA,CA0BA;;AACA,SAAA,MAAA,CAAA,YAAA,CAAA,eAAA,GAAA,OAAA,GAAA,cAAA,CA3BA,CA2BA;;AACA,SAAA,MAAA,CAAA,YAAA,CAAA,eAAA,GAAA;AACA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA;AADA,KAAA;AAGA,SAAA,MAAA,CAAA,YAAA,CAAA,cAAA,GAAA,aAAA,CA/BA,CA+BA;;AACA,SAAA,MAAA,CAAA,YAAA,CAAA,kBAAA,GAAA,CAAA,CAhCA,CAgCA;;AACA,SAAA,MAAA,CAAA,YAAA,CAAA,cAAA,GAAA;AACA,MAAA,YAAA,EAAA,sBAAA,SAAA,EAAA,MAAA,EAAA,MAAA,EAAA;AACA,QAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA;AAHA,KAAA;;AAKA,SAAA,MAAA,CAAA,YAAA,CAAA,QAAA,GAAA,UAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,aAAA,CAAA;;AACA,MAAA,KAAA,CAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EADA,CACA;;AACA,OAFA;AAGA,KALA,CAtCA,CA4CA;;;AACA,SAAA,MAAA,CAAA,MAAA;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA;AACA,KAFA;AAGA,GA7EA;AA8EA,EAAA,OAAA,EAAA;AA9EA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"editor\">\r\n      <div ref=\"toolbar\" class=\"toolbar\"></div>\r\n      <div ref=\"text\" class=\"text\" :style=\"{height:height}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { API_URL } from \"@/request/api\";\r\nimport E from \"wangeditor\";\r\nexport default {\r\n  name: \"wangEditor\",\r\n  data() {\r\n    return {\r\n      editor: null\r\n    };\r\n  },\r\n  model: {\r\n    prop: \"value\",\r\n    event: \"change\"\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"480px\"\r\n    }\r\n  },\r\n  watch: {\r\n    value(val, old) {\r\n      if (!old || !val) {\r\n        this.editor.txt.html(val);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.editor = new E(this.$refs.toolbar, this.$refs.text);\r\n    // 自定义菜单配置\r\n    this.editor.customConfig.menus = [\r\n      \"head\", // 标题\r\n      \"bold\", // 粗体\r\n      \"fontSize\", // 字号\r\n      \"fontName\", // 字体\r\n      \"italic\", // 斜体\r\n      \"underline\", // 下划线\r\n      \"strikeThrough\", // 删除线\r\n      \"foreColor\", // 文字颜色\r\n      \"backColor\", // 背景颜色\r\n      // \"link\", // 插入链接\r\n      \"list\", // 列表\r\n      \"justify\", // 对齐方式\r\n      \"quote\", // 引用\r\n      // \"emoticon\", // 表情\r\n      \"image\", // 插入图片\r\n      \"table\", // 表格\r\n      // \"video\", // 插入视频\r\n      \"code\", // 插入代码\r\n      \"undo\", // 撤销\r\n      \"redo\" // 重复\r\n    ];\r\n    this.editor.customConfig.debug = false;\r\n    // this.editor.customConfig.pasteIgnoreImg = true;\r\n    this.editor.customConfig.uploadImgServer = API_URL + \"admin/upload\"; // 配置服务器端地址\r\n    this.editor.customConfig.uploadImgParams = {\r\n      token: this.$store.getters.getToken\r\n    };\r\n    this.editor.customConfig.uploadFileName = \"upload_file\"; // 后端接受上传文件的参数名\r\n    this.editor.customConfig.uploadImgMaxLength = 1; // 限制一次最多上传 3 张图片\r\n    this.editor.customConfig.uploadImgHooks = {\r\n      customInsert: (insertImg, result, editor) => {\r\n        insertImg(result.data);\r\n      }\r\n    };\r\n    this.editor.customConfig.onchange = html => {\r\n      console.log(html.match(/<img.+?>/igm));\r\n      this.$nextTick(() => {\r\n        this.$emit(\"change\", html); // 将内容同步到父组件中\r\n      });\r\n    };\r\n    // 创建富文本编辑器\r\n    this.editor.create();\r\n    this.$nextTick(() => {\r\n      this.editor.txt.html(this.value);\r\n    });\r\n  },\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.editor {\r\n  width: 100%;\r\n}\r\n.toolbar {\r\n  border: 1px solid #ccc;\r\n}\r\n.text {\r\n  border: 1px solid #ccc;\r\n  min-height: 320px;\r\n  /deep/.w-e-text {\r\n    overflow-y: auto;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}