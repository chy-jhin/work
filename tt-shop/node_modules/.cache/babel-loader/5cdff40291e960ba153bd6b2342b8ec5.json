{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\frame.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\frame.vue","mtime":1597738523636},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtb2RBZG1pblB3ZCBhcyBfbW9kQWRtaW5Qd2QgfSBmcm9tICJAL3JlcXVlc3QvYXBpLmpzIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlci9yb3V0ZXIuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImZyYW1lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNDb2xsYXBzZTogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaXNDb2xsYXBzZSIpIHx8ICJmYWxzZSIpLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgYXZhdGFyOiByZXF1aXJlKCJAL2Fzc2V0cy9hdmF0YXIucG5nIiksCiAgICAgIGZvcm06IHsKICAgICAgICBvbGRQd2Q6ICIiLAogICAgICAgIG5ld1B3ZDogIiIKICAgICAgfSwKICAgICAgcm91dGVyTGlzdDogcm91dGVyLAogICAgICB0aW1lcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhZG1pbkF1dGhMaXN0OiBmdW5jdGlvbiBhZG1pbkF1dGhMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRBdXRoTGlzdDsKICAgIH0sCiAgICB1c2VyTmFtZTogZnVuY3Rpb24gdXNlck5hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXJOYW1lOwogICAgfSwKICAgIG1lbnVTaG93OiBmdW5jdGlvbiBtZW51U2hvdygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBhdXRoTGlzdCA9IFtdOwoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbikgewogICAgICAgICAgaXRlbS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgYXV0aExpc3QgPSBhdXRoTGlzdC5jb25jYXQodmFsLm1ldGEuYXV0aExpc3QpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGF1dGhMaXN0ID0gaXRlbS5tZXRhLmF1dGhMaXN0OwogICAgICAgIH0KCiAgICAgICAgdmFyIGxpc3QgPSBhdXRoTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLmFkbWluQXV0aExpc3QuaW5kZXhPZih2YWwpICE9PSAtMTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbGlzdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlOwogICAgICB9OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy50aW1lciAhPSBudWxsKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nVmlzaWJsZTogZnVuY3Rpb24gZGlhbG9nVmlzaWJsZSh2YWwpIHsKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgICBvbGRQd2Q6ICIiLAogICAgICAgICAgbmV3UHdkOiAiIgogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBpc0NvbGxhcHNlOiBmdW5jdGlvbiBpc0NvbGxhcHNlKHZhbCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXNDb2xsYXBzZSIsIHZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDb21tYW5kOiBmdW5jdGlvbiBoYW5kbGVDb21tYW5kKGtleSkgewogICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgImxvZ291dCI6CiAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIm1vZFB3ZCI6CiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBtb2RBZG1pblB3ZDogZnVuY3Rpb24gbW9kQWRtaW5Qd2QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgX21vZEFkbWluUHdkKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoewogICAgICAgICAgbWVzc2FnZTogIuWvhueggeS/ruaUueaIkOWKn++8jOivt+mHjeaWsOeZu+W9le+8gSIKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgic2V0VG9rZW4iLCBmYWxzZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhumAgOWHuuW9k+WJjei0puWPtywg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJzZXRUb2tlbiIsIGZhbHNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["frame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA,SAAA,WAAA,IAAA,YAAA,QAAA,kBAAA;AACA,OAAA,MAAA,MAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,KAAA,OAAA,CADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA,OAAA,CAAA,qBAAA,CAHA;AAIA,MAAA,IAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA;AAFA,OAJA;AAQA,MAAA,UAAA,EAAA,MARA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AAAA;;AACA,aAAA,UAAA,IAAA,EAAA;AACA,YAAA,QAAA,GAAA,EAAA;;AAEA,YAAA,IAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,QAAA,GAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AACA,WAFA;AAGA,SAJA,MAIA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA;;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,iBAAA,KAAA,CAAA,aAAA,CAAA,OAAA,CAAA,GAAA,MAAA,CAAA,CAAA;AACA,SAFA,CAAA;AAGA,eAAA,IAAA,CAAA,MAAA,GAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AACA,OAdA;AAeA;AAvBA,GAfA;AAwCA,EAAA,OAxCA,qBAwCA,CACA,CAzCA;AA0CA,EAAA,aA1CA,2BA0CA;AACA,QAAA,KAAA,KAAA,IAAA,IAAA,EAAA;AACA,MAAA,aAAA,CAAA,KAAA,KAAA,CAAA;AACA;AACA,GA9CA;AA+CA,EAAA,KAAA,EAAA;AACA,IAAA,aADA,yBACA,GADA,EACA;AACA,UAAA,CAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA;AACA,UAAA,MAAA,EAAA,EADA;AAEA,UAAA,MAAA,EAAA;AAFA,SAAA;AAIA;AACA,KARA;AASA,IAAA,UATA,sBASA,GATA,EASA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,YAAA,EAAA,GAAA;AACA;AAXA,GA/CA;AA4DA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,GADA,EACA;AACA,cAAA,GAAA;AACA,aAAA,QAAA;AACA,eAAA,MAAA;AACA;;AACA,aAAA,QAAA;AACA,eAAA,aAAA,GAAA,IAAA;AAEA;AAPA;AASA,KAXA;AAYA,IAAA,WAZA,yBAYA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,UAAA,OAAA,EAAA;AADA,SAAA;;AAGA,QAAA,MAAA,CAAA,aAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA;AACA,OANA;AAOA,KApBA;AAqBA,IAAA,MArBA,oBAqBA;AAAA;;AACA,WAAA,QAAA,CAAA,mBAAA,EAAA,IAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAKA,IALA,CAKA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA;AACA,OAPA,EAQA,KARA,CAQA,YAAA,CAAA,CARA;AASA;AA/BA;AA5DA,CAAA","sourcesContent":["<template>\n  <div class=\"frame\">\n    <el-container style=\"height: 100%;\">\n      <el-aside width=\"auto\" class=\"flex flexv\">\n        <el-menu\n          class=\"el-menu-vertical flex1\"\n          :default-active=\"$route.path\"\n          :collapse=\"isCollapse\"\n          background-color=\"#2d3a4b\"\n          text-color=\"#fff\"\n          active-text-color=\"#409eff\"\n          unique-opened\n          router\n        >\n          <el-menu-item :key=\"-1\" index=\"/main\" route=\"/main\">\n            <i class=\"el-icon-monitor\"></i>\n            <span>首页</span>\n          </el-menu-item>\n\n          <template v-for=\"(item,index) in routerList\">\n            <template v-if=\"menuShow(item)\">\n              <el-menu-item\n                :key=\"index\"\n                v-if=\"item.children == undefined\"\n                :index=\"item.path\"\n                :route=\"{path:item.path}\"\n              >\n                <i :class=\"item.meta.icon||'el-icon-folder'\"></i>\n                <span>{{item.meta.title}}</span>\n              </el-menu-item>\n              <el-submenu v-else :key=\"index\" :index=\"item.path\">\n                <template slot=\"title\">\n                  <i :class=\"item.meta.icon||'el-icon-folder-opened'\"></i>\n                  <span>{{item.meta.title}}</span>\n                </template>\n                <template v-for=\"(subItem,subIndex) in item.children\">\n                  <el-menu-item\n                    v-if=\"menuShow(subItem)\"\n                    :key=\"subIndex\"\n                    :index=\"subItem.path\"\n                    :route=\"{path:subItem.path}\"\n                  >\n                    <i :class=\"subItem.meta.icon||'el-icon-folder'\"></i>\n                    <span>{{subItem.meta.title}}</span>\n                  </el-menu-item>\n                </template>\n              </el-submenu>\n            </template>\n          </template>\n        </el-menu>\n      </el-aside>\n      <el-container>\n        <el-header class=\"elHeader ali-c\">\n          <el-button\n            @click=\"isCollapse=!isCollapse\"\n            type=\"text\"\n            style=\"font-size:18px;color:#999;margin-right:30px;\"\n            :icon=\"!isCollapse?'el-icon-s-fold':'el-icon-s-unfold'\"\n          ></el-button>\n          <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"flex1\">\n            <el-breadcrumb-item :to=\"{ path: '/main' }\">数据管理中心</el-breadcrumb-item>\n            <el-breadcrumb-item\n              v-if=\"$route.matched[$route.matched.length-1].parent != undefined && $route.matched[$route.matched.length-1].parent.meta.title != undefined\"\n            >{{$route.matched[$route.matched.length-1].parent.meta.title}}</el-breadcrumb-item>\n            <el-breadcrumb-item v-if=\"$route.meta.title\">{{$route.meta.title}}</el-breadcrumb-item>\n          </el-breadcrumb>\n\n          \n\n          <el-dropdown @command=\"handleCommand\">\n            <div class=\"ali-c\" style=\"cursor: pointer;\">\n              <el-avatar size=\"large\" :src=\"avatar\"></el-avatar>\n              <div style=\"margin-left:10px;\">{{userName}}</div>\n            </div>\n\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"modPwd\">修改密码</el-dropdown-item>\n              <el-dropdown-item divided command=\"logout\">退出登录</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-header>\n        <el-main style=\"height: 100%;\">\n          <router-view />\n        </el-main>\n        <el-footer height=\"48px\" class=\"elFooter ali-c\">\n          <span>© 遇憬软件工作室</span>\n          <span style=\"margin-left:10px;\">技术支持：</span>\n          <a\n            target=\"_blank\"\n            href=\"http://wpa.qq.com/msgrd?v=3&uin=5557965&site=qq&menu=yes\"\n          >QQ:5557965</a>\n          <i class=\"el-icon-mobile-phone\" style=\"margin-left:10px;margin-right:3px;\"></i>\n          <span>18170901365</span>\n        </el-footer>\n      </el-container>\n    </el-container>\n\n    <el-dialog title=\"修改密码\" :visible.sync=\"dialogVisible\" width=\"480px\">\n      <el-form :model=\"form\" label-width=\"120px\">\n        <el-form-item label=\"当前密码\">\n          <el-input v-model=\"form.oldPwd\" style=\"width:240px;\" placeholder=\"请输入当前密码\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"新的密码\">\n          <el-input v-model=\"form.newPwd\" style=\"width:240px;\" placeholder=\"请输入新的密码\" show-password></el-input>\n        </el-form-item>\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"modAdminPwd\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { modAdminPwd } from \"@/request/api.js\";\nimport router from \"@/router/router.js\";\nexport default {\n  name: \"frame\",\n  data() {\n    return {\n      isCollapse: JSON.parse(localStorage.getItem(\"isCollapse\") || \"false\"),\n      dialogVisible: false,\n      avatar: require(\"@/assets/avatar.png\"),\n      form: {\n        oldPwd: \"\",\n        newPwd: \"\",\n      },\n      routerList: router,\n      timer: null,\n    };\n  },\n  computed: {\n    adminAuthList() {\n      return this.$store.getters.getAuthList;\n    },\n    userName() {\n      return this.$store.getters.getUserName;\n    },\n    menuShow() {\n      return (item) => {\n        let authList = [];\n\n        if (item.children) {\n          item.children.forEach((val) => {\n            authList = authList.concat(val.meta.authList);\n          });\n        } else {\n          authList = item.meta.authList;\n        }\n        let list = authList.filter((val) => {\n          return this.adminAuthList.indexOf(val) !== -1;\n        });\n        return list.length > 0 ? true : false;\n      };\n    },\n  },\n  mounted() {\n  },\n  beforeDestroy() {\n    if (this.timer != null) {\n      clearInterval(this.timer);\n    }\n  },\n  watch: {\n    dialogVisible(val) {\n      if (!val) {\n        this.form = {\n          oldPwd: \"\",\n          newPwd: \"\",\n        };\n      }\n    },\n    isCollapse(val) {\n      localStorage.setItem(\"isCollapse\", val);\n    },\n  },\n  methods: {\n    handleCommand(key) {\n      switch (key) {\n        case \"logout\":\n          this.logout();\n          break;\n        case \"modPwd\":\n          this.dialogVisible = true;\n\n          break;\n      }\n    },\n    modAdminPwd() {\n      modAdminPwd(this.form).then((res) => {\n        this.$message.success({\n          message: \"密码修改成功，请重新登录！\",\n        });\n        this.dialogVisible = false;\n        this.$store.dispatch(\"setToken\", false);\n      });\n    },\n    logout() {\n      this.$confirm(\"此操作将退出当前账号, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.$store.dispatch(\"setToken\", false);\n        })\n        .catch(() => {});\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"less\" scoped>\n.frame {\n  height: 100%;\n}\n.elHeader {\n  border-bottom: solid 1px #e6e6e6;\n}\n.elFooter {\n  border-top: solid 1px #e6e6e6;\n  font-size: 12px;\n  line-height: 24px;\n}\n.el-menu-vertical:not(.el-menu--collapse) {\n  width: 240px;\n}\n.badgeBox {\n  .item {\n    margin-right: 30px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}