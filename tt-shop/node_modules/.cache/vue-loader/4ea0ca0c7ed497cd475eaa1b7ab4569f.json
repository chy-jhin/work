{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\wangEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\wangEditor.vue","mtime":1604741876676},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBBUElfVVJMIH0gZnJvbSAiQC9yZXF1ZXN0L2FwaSI7DQppbXBvcnQgRSBmcm9tICJ3YW5nZWRpdG9yIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIndhbmdFZGl0b3IiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlZGl0b3I6IG51bGwNCiAgICB9Ow0KICB9LA0KICBtb2RlbDogew0KICAgIHByb3A6ICJ2YWx1ZSIsDQogICAgZXZlbnQ6ICJjaGFuZ2UiDQogIH0sDQogIHByb3BzOiB7DQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIiDQogICAgfSwNCiAgICBoZWlnaHQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICI0ODBweCINCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdmFsdWUodmFsLCBvbGQpIHsNCiAgICAgIGlmICghb2xkIHx8ICF2YWwpIHsNCiAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwodmFsKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5lZGl0b3IgPSBuZXcgRSh0aGlzLiRyZWZzLnRvb2xiYXIsIHRoaXMuJHJlZnMudGV4dCk7DQogICAgLy8g6Ieq5a6a5LmJ6I+c5Y2V6YWN572uDQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLm1lbnVzID0gWw0KICAgICAgImhlYWQiLCAvLyDmoIfpopgNCiAgICAgICJib2xkIiwgLy8g57KX5L2TDQogICAgICAiZm9udFNpemUiLCAvLyDlrZflj7cNCiAgICAgICJmb250TmFtZSIsIC8vIOWtl+S9kw0KICAgICAgIml0YWxpYyIsIC8vIOaWnOS9kw0KICAgICAgInVuZGVybGluZSIsIC8vIOS4i+WIkue6vw0KICAgICAgInN0cmlrZVRocm91Z2giLCAvLyDliKDpmaTnur8NCiAgICAgICJmb3JlQ29sb3IiLCAvLyDmloflrZfpopzoibINCiAgICAgICJiYWNrQ29sb3IiLCAvLyDog4zmma/popzoibINCiAgICAgIC8vICJsaW5rIiwgLy8g5o+S5YWl6ZO+5o6lDQogICAgICAibGlzdCIsIC8vIOWIl+ihqA0KICAgICAgImp1c3RpZnkiLCAvLyDlr7npvZDmlrnlvI8NCiAgICAgICJxdW90ZSIsIC8vIOW8leeUqA0KICAgICAgLy8gImVtb3RpY29uIiwgLy8g6KGo5oOFDQogICAgICAiaW1hZ2UiLCAvLyDmj5LlhaXlm77niYcNCiAgICAgICJ0YWJsZSIsIC8vIOihqOagvA0KICAgICAgLy8gInZpZGVvIiwgLy8g5o+S5YWl6KeG6aKRDQogICAgICAiY29kZSIsIC8vIOaPkuWFpeS7o+eggQ0KICAgICAgInVuZG8iLCAvLyDmkqTplIANCiAgICAgICJyZWRvIiAvLyDph43lpI0NCiAgICBdOw0KICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy5kZWJ1ZyA9IGZhbHNlOw0KICAgIC8vIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy5wYXN0ZUlnbm9yZUltZyA9IHRydWU7DQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1NlcnZlciA9IEFQSV9VUkwgKyAiYWRtaW4vdXBsb2FkIjsgLy8g6YWN572u5pyN5Yqh5Zmo56uv5Zyw5Z2ADQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1BhcmFtcyA9IHsNCiAgICAgIHRva2VuOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFRva2VuDQogICAgfTsNCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkRmlsZU5hbWUgPSAidXBsb2FkX2ZpbGUiOyAvLyDlkI7nq6/mjqXlj5fkuIrkvKDmlofku7bnmoTlj4LmlbDlkI0NCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nTWF4TGVuZ3RoID0gMTsgLy8g6ZmQ5Yi25LiA5qyh5pyA5aSa5LiK5LygIDMg5byg5Zu+54mHDQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ0hvb2tzID0gew0KICAgICAgY3VzdG9tSW5zZXJ0OiAoaW5zZXJ0SW1nLCByZXN1bHQsIGVkaXRvcikgPT4gew0KICAgICAgICBpbnNlcnRJbWcocmVzdWx0LmRhdGEpOw0KICAgICAgfQ0KICAgIH07DQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLm9uY2hhbmdlID0gaHRtbCA9PiB7DQogICAgICBjb25zb2xlLmxvZyhodG1sLm1hdGNoKC88aW1nLis/Pi9pZ20pKTsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlIiwgaHRtbCk7IC8vIOWwhuWGheWuueWQjOatpeWIsOeItue7hOS7tuS4rQ0KICAgICAgfSk7DQogICAgfTsNCiAgICAvLyDliJvlu7rlr4zmlofmnKznvJbovpHlmagNCiAgICB0aGlzLmVkaXRvci5jcmVhdGUoKTsNCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh0aGlzLnZhbHVlKTsNCiAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczoge30NCn07DQo="},{"version":3,"sources":["wangEditor.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wangEditor.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"editor\">\r\n      <div ref=\"toolbar\" class=\"toolbar\"></div>\r\n      <div ref=\"text\" class=\"text\" :style=\"{height:height}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { API_URL } from \"@/request/api\";\r\nimport E from \"wangeditor\";\r\nexport default {\r\n  name: \"wangEditor\",\r\n  data() {\r\n    return {\r\n      editor: null\r\n    };\r\n  },\r\n  model: {\r\n    prop: \"value\",\r\n    event: \"change\"\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"480px\"\r\n    }\r\n  },\r\n  watch: {\r\n    value(val, old) {\r\n      if (!old || !val) {\r\n        this.editor.txt.html(val);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.editor = new E(this.$refs.toolbar, this.$refs.text);\r\n    // 自定义菜单配置\r\n    this.editor.customConfig.menus = [\r\n      \"head\", // 标题\r\n      \"bold\", // 粗体\r\n      \"fontSize\", // 字号\r\n      \"fontName\", // 字体\r\n      \"italic\", // 斜体\r\n      \"underline\", // 下划线\r\n      \"strikeThrough\", // 删除线\r\n      \"foreColor\", // 文字颜色\r\n      \"backColor\", // 背景颜色\r\n      // \"link\", // 插入链接\r\n      \"list\", // 列表\r\n      \"justify\", // 对齐方式\r\n      \"quote\", // 引用\r\n      // \"emoticon\", // 表情\r\n      \"image\", // 插入图片\r\n      \"table\", // 表格\r\n      // \"video\", // 插入视频\r\n      \"code\", // 插入代码\r\n      \"undo\", // 撤销\r\n      \"redo\" // 重复\r\n    ];\r\n    this.editor.customConfig.debug = false;\r\n    // this.editor.customConfig.pasteIgnoreImg = true;\r\n    this.editor.customConfig.uploadImgServer = API_URL + \"admin/upload\"; // 配置服务器端地址\r\n    this.editor.customConfig.uploadImgParams = {\r\n      token: this.$store.getters.getToken\r\n    };\r\n    this.editor.customConfig.uploadFileName = \"upload_file\"; // 后端接受上传文件的参数名\r\n    this.editor.customConfig.uploadImgMaxLength = 1; // 限制一次最多上传 3 张图片\r\n    this.editor.customConfig.uploadImgHooks = {\r\n      customInsert: (insertImg, result, editor) => {\r\n        insertImg(result.data);\r\n      }\r\n    };\r\n    this.editor.customConfig.onchange = html => {\r\n      console.log(html.match(/<img.+?>/igm));\r\n      this.$nextTick(() => {\r\n        this.$emit(\"change\", html); // 将内容同步到父组件中\r\n      });\r\n    };\r\n    // 创建富文本编辑器\r\n    this.editor.create();\r\n    this.$nextTick(() => {\r\n      this.editor.txt.html(this.value);\r\n    });\r\n  },\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.editor {\r\n  width: 100%;\r\n}\r\n.toolbar {\r\n  border: 1px solid #ccc;\r\n}\r\n.text {\r\n  border: 1px solid #ccc;\r\n  min-height: 320px;\r\n  /deep/.w-e-text {\r\n    overflow-y: auto;\r\n  }\r\n}\r\n</style>"]}]}