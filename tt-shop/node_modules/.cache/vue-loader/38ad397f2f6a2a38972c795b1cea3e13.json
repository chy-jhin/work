{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\wangEditor.vue?vue&type=style&index=0&id=c1ee1140&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\wangEditor.vue","mtime":1604741876676},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWRpdG9yIHsNCiAgd2lkdGg6IDEwMCU7DQp9DQoudG9vbGJhciB7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQp9DQoudGV4dCB7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQogIG1pbi1oZWlnaHQ6IDMyMHB4Ow0KICAvZGVlcC8udy1lLXRleHQgew0KICAgIG92ZXJmbG93LXk6IGF1dG87DQogIH0NCn0NCg=="},{"version":3,"sources":["wangEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wangEditor.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"editor\">\r\n      <div ref=\"toolbar\" class=\"toolbar\"></div>\r\n      <div ref=\"text\" class=\"text\" :style=\"{height:height}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { API_URL } from \"@/request/api\";\r\nimport E from \"wangeditor\";\r\nexport default {\r\n  name: \"wangEditor\",\r\n  data() {\r\n    return {\r\n      editor: null\r\n    };\r\n  },\r\n  model: {\r\n    prop: \"value\",\r\n    event: \"change\"\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"480px\"\r\n    }\r\n  },\r\n  watch: {\r\n    value(val, old) {\r\n      if (!old || !val) {\r\n        this.editor.txt.html(val);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.editor = new E(this.$refs.toolbar, this.$refs.text);\r\n    // 自定义菜单配置\r\n    this.editor.customConfig.menus = [\r\n      \"head\", // 标题\r\n      \"bold\", // 粗体\r\n      \"fontSize\", // 字号\r\n      \"fontName\", // 字体\r\n      \"italic\", // 斜体\r\n      \"underline\", // 下划线\r\n      \"strikeThrough\", // 删除线\r\n      \"foreColor\", // 文字颜色\r\n      \"backColor\", // 背景颜色\r\n      // \"link\", // 插入链接\r\n      \"list\", // 列表\r\n      \"justify\", // 对齐方式\r\n      \"quote\", // 引用\r\n      // \"emoticon\", // 表情\r\n      \"image\", // 插入图片\r\n      \"table\", // 表格\r\n      // \"video\", // 插入视频\r\n      \"code\", // 插入代码\r\n      \"undo\", // 撤销\r\n      \"redo\" // 重复\r\n    ];\r\n    this.editor.customConfig.debug = false;\r\n    // this.editor.customConfig.pasteIgnoreImg = true;\r\n    this.editor.customConfig.uploadImgServer = API_URL + \"admin/upload\"; // 配置服务器端地址\r\n    this.editor.customConfig.uploadImgParams = {\r\n      token: this.$store.getters.getToken\r\n    };\r\n    this.editor.customConfig.uploadFileName = \"upload_file\"; // 后端接受上传文件的参数名\r\n    this.editor.customConfig.uploadImgMaxLength = 1; // 限制一次最多上传 3 张图片\r\n    this.editor.customConfig.uploadImgHooks = {\r\n      customInsert: (insertImg, result, editor) => {\r\n        insertImg(result.data);\r\n      }\r\n    };\r\n    this.editor.customConfig.onchange = html => {\r\n      console.log(html.match(/<img.+?>/igm));\r\n      this.$nextTick(() => {\r\n        this.$emit(\"change\", html); // 将内容同步到父组件中\r\n      });\r\n    };\r\n    // 创建富文本编辑器\r\n    this.editor.create();\r\n    this.$nextTick(() => {\r\n      this.editor.txt.html(this.value);\r\n    });\r\n  },\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.editor {\r\n  width: 100%;\r\n}\r\n.toolbar {\r\n  border: 1px solid #ccc;\r\n}\r\n.text {\r\n  border: 1px solid #ccc;\r\n  min-height: 320px;\r\n  /deep/.w-e-text {\r\n    overflow-y: auto;\r\n  }\r\n}\r\n</style>"]}]}