{"remainingRequest":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\frame.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\src\\components\\frame.vue","mtime":1597738523636},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yujing\\Desktop\\vue\\Admin\\tt-shop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1vZEFkbWluUHdkIH0gZnJvbSAiQC9yZXF1ZXN0L2FwaS5qcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIvcm91dGVyLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmcmFtZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQ29sbGFwc2U6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImlzQ29sbGFwc2UiKSB8fCAiZmFsc2UiKSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGF2YXRhcjogcmVxdWlyZSgiQC9hc3NldHMvYXZhdGFyLnBuZyIpLAogICAgICBmb3JtOiB7CiAgICAgICAgb2xkUHdkOiAiIiwKICAgICAgICBuZXdQd2Q6ICIiLAogICAgICB9LAogICAgICByb3V0ZXJMaXN0OiByb3V0ZXIsCiAgICAgIHRpbWVyOiBudWxsLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhZG1pbkF1dGhMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRBdXRoTGlzdDsKICAgIH0sCiAgICB1c2VyTmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlck5hbWU7CiAgICB9LAogICAgbWVudVNob3coKSB7CiAgICAgIHJldHVybiAoaXRlbSkgPT4gewogICAgICAgIGxldCBhdXRoTGlzdCA9IFtdOwoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbikgewogICAgICAgICAgaXRlbS5jaGlsZHJlbi5mb3JFYWNoKCh2YWwpID0+IHsKICAgICAgICAgICAgYXV0aExpc3QgPSBhdXRoTGlzdC5jb25jYXQodmFsLm1ldGEuYXV0aExpc3QpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGF1dGhMaXN0ID0gaXRlbS5tZXRhLmF1dGhMaXN0OwogICAgICAgIH0KICAgICAgICBsZXQgbGlzdCA9IGF1dGhMaXN0LmZpbHRlcigodmFsKSA9PiB7CiAgICAgICAgICByZXR1cm4gdGhpcy5hZG1pbkF1dGhMaXN0LmluZGV4T2YodmFsKSAhPT0gLTE7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGxpc3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTsKICAgICAgfTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLnRpbWVyICE9IG51bGwpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkaWFsb2dWaXNpYmxlKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIG9sZFB3ZDogIiIsCiAgICAgICAgICBuZXdQd2Q6ICIiLAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBpc0NvbGxhcHNlKHZhbCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXNDb2xsYXBzZSIsIHZhbCk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ29tbWFuZChrZXkpIHsKICAgICAgc3dpdGNoIChrZXkpIHsKICAgICAgICBjYXNlICJsb2dvdXQiOgogICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm1vZFB3ZCI6CiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgbW9kQWRtaW5Qd2QoKSB7CiAgICAgIG1vZEFkbWluUHdkKHRoaXMuZm9ybSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgIG1lc3NhZ2U6ICLlr4bnoIHkv67mlLnmiJDlip/vvIzor7fph43mlrDnmbvlvZXvvIEiLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRUb2tlbiIsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0KCkgewogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbpgIDlh7rlvZPliY3otKblj7csIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFRva2VuIiwgZmFsc2UpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["frame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"frame.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"frame\">\n    <el-container style=\"height: 100%;\">\n      <el-aside width=\"auto\" class=\"flex flexv\">\n        <el-menu\n          class=\"el-menu-vertical flex1\"\n          :default-active=\"$route.path\"\n          :collapse=\"isCollapse\"\n          background-color=\"#2d3a4b\"\n          text-color=\"#fff\"\n          active-text-color=\"#409eff\"\n          unique-opened\n          router\n        >\n          <el-menu-item :key=\"-1\" index=\"/main\" route=\"/main\">\n            <i class=\"el-icon-monitor\"></i>\n            <span>首页</span>\n          </el-menu-item>\n\n          <template v-for=\"(item,index) in routerList\">\n            <template v-if=\"menuShow(item)\">\n              <el-menu-item\n                :key=\"index\"\n                v-if=\"item.children == undefined\"\n                :index=\"item.path\"\n                :route=\"{path:item.path}\"\n              >\n                <i :class=\"item.meta.icon||'el-icon-folder'\"></i>\n                <span>{{item.meta.title}}</span>\n              </el-menu-item>\n              <el-submenu v-else :key=\"index\" :index=\"item.path\">\n                <template slot=\"title\">\n                  <i :class=\"item.meta.icon||'el-icon-folder-opened'\"></i>\n                  <span>{{item.meta.title}}</span>\n                </template>\n                <template v-for=\"(subItem,subIndex) in item.children\">\n                  <el-menu-item\n                    v-if=\"menuShow(subItem)\"\n                    :key=\"subIndex\"\n                    :index=\"subItem.path\"\n                    :route=\"{path:subItem.path}\"\n                  >\n                    <i :class=\"subItem.meta.icon||'el-icon-folder'\"></i>\n                    <span>{{subItem.meta.title}}</span>\n                  </el-menu-item>\n                </template>\n              </el-submenu>\n            </template>\n          </template>\n        </el-menu>\n      </el-aside>\n      <el-container>\n        <el-header class=\"elHeader ali-c\">\n          <el-button\n            @click=\"isCollapse=!isCollapse\"\n            type=\"text\"\n            style=\"font-size:18px;color:#999;margin-right:30px;\"\n            :icon=\"!isCollapse?'el-icon-s-fold':'el-icon-s-unfold'\"\n          ></el-button>\n          <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"flex1\">\n            <el-breadcrumb-item :to=\"{ path: '/main' }\">数据管理中心</el-breadcrumb-item>\n            <el-breadcrumb-item\n              v-if=\"$route.matched[$route.matched.length-1].parent != undefined && $route.matched[$route.matched.length-1].parent.meta.title != undefined\"\n            >{{$route.matched[$route.matched.length-1].parent.meta.title}}</el-breadcrumb-item>\n            <el-breadcrumb-item v-if=\"$route.meta.title\">{{$route.meta.title}}</el-breadcrumb-item>\n          </el-breadcrumb>\n\n          \n\n          <el-dropdown @command=\"handleCommand\">\n            <div class=\"ali-c\" style=\"cursor: pointer;\">\n              <el-avatar size=\"large\" :src=\"avatar\"></el-avatar>\n              <div style=\"margin-left:10px;\">{{userName}}</div>\n            </div>\n\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"modPwd\">修改密码</el-dropdown-item>\n              <el-dropdown-item divided command=\"logout\">退出登录</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </el-header>\n        <el-main style=\"height: 100%;\">\n          <router-view />\n        </el-main>\n        <el-footer height=\"48px\" class=\"elFooter ali-c\">\n          <span>© 遇憬软件工作室</span>\n          <span style=\"margin-left:10px;\">技术支持：</span>\n          <a\n            target=\"_blank\"\n            href=\"http://wpa.qq.com/msgrd?v=3&uin=5557965&site=qq&menu=yes\"\n          >QQ:5557965</a>\n          <i class=\"el-icon-mobile-phone\" style=\"margin-left:10px;margin-right:3px;\"></i>\n          <span>18170901365</span>\n        </el-footer>\n      </el-container>\n    </el-container>\n\n    <el-dialog title=\"修改密码\" :visible.sync=\"dialogVisible\" width=\"480px\">\n      <el-form :model=\"form\" label-width=\"120px\">\n        <el-form-item label=\"当前密码\">\n          <el-input v-model=\"form.oldPwd\" style=\"width:240px;\" placeholder=\"请输入当前密码\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"新的密码\">\n          <el-input v-model=\"form.newPwd\" style=\"width:240px;\" placeholder=\"请输入新的密码\" show-password></el-input>\n        </el-form-item>\n      </el-form>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"modAdminPwd\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { modAdminPwd } from \"@/request/api.js\";\nimport router from \"@/router/router.js\";\nexport default {\n  name: \"frame\",\n  data() {\n    return {\n      isCollapse: JSON.parse(localStorage.getItem(\"isCollapse\") || \"false\"),\n      dialogVisible: false,\n      avatar: require(\"@/assets/avatar.png\"),\n      form: {\n        oldPwd: \"\",\n        newPwd: \"\",\n      },\n      routerList: router,\n      timer: null,\n    };\n  },\n  computed: {\n    adminAuthList() {\n      return this.$store.getters.getAuthList;\n    },\n    userName() {\n      return this.$store.getters.getUserName;\n    },\n    menuShow() {\n      return (item) => {\n        let authList = [];\n\n        if (item.children) {\n          item.children.forEach((val) => {\n            authList = authList.concat(val.meta.authList);\n          });\n        } else {\n          authList = item.meta.authList;\n        }\n        let list = authList.filter((val) => {\n          return this.adminAuthList.indexOf(val) !== -1;\n        });\n        return list.length > 0 ? true : false;\n      };\n    },\n  },\n  mounted() {\n  },\n  beforeDestroy() {\n    if (this.timer != null) {\n      clearInterval(this.timer);\n    }\n  },\n  watch: {\n    dialogVisible(val) {\n      if (!val) {\n        this.form = {\n          oldPwd: \"\",\n          newPwd: \"\",\n        };\n      }\n    },\n    isCollapse(val) {\n      localStorage.setItem(\"isCollapse\", val);\n    },\n  },\n  methods: {\n    handleCommand(key) {\n      switch (key) {\n        case \"logout\":\n          this.logout();\n          break;\n        case \"modPwd\":\n          this.dialogVisible = true;\n\n          break;\n      }\n    },\n    modAdminPwd() {\n      modAdminPwd(this.form).then((res) => {\n        this.$message.success({\n          message: \"密码修改成功，请重新登录！\",\n        });\n        this.dialogVisible = false;\n        this.$store.dispatch(\"setToken\", false);\n      });\n    },\n    logout() {\n      this.$confirm(\"此操作将退出当前账号, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          this.$store.dispatch(\"setToken\", false);\n        })\n        .catch(() => {});\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"less\" scoped>\n.frame {\n  height: 100%;\n}\n.elHeader {\n  border-bottom: solid 1px #e6e6e6;\n}\n.elFooter {\n  border-top: solid 1px #e6e6e6;\n  font-size: 12px;\n  line-height: 24px;\n}\n.el-menu-vertical:not(.el-menu--collapse) {\n  width: 240px;\n}\n.badgeBox {\n  .item {\n    margin-right: 30px;\n  }\n}\n</style>\n"]}]}