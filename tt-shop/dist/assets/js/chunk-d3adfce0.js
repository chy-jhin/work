(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3adfce0"],{"07a9":function(e,t,a){},"21ac":function(e,t,a){"use strict";var i=a("ec51"),o=a.n(i);o.a},"45e1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"H100 flex flexv"},[a("div",{staticClass:"headBox flex"},[a("div",{staticClass:"flex1",staticStyle:{"min-width":"15px"}}),a("el-date-picker",{attrs:{type:"daterange",align:"right",size:"small","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-mm-dd"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}}),a("el-select",{staticStyle:{"margin-right":"15px",width:"120px"},attrs:{size:"small",clearable:"",placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusList,(function(e,t){return a("el-option",{key:t,attrs:{label:e[1],value:e[0]}})})),1),a("el-button",{staticClass:"ml15",attrs:{size:"small",type:"primary"},on:{click:e.getList}},[e._v("筛选")])],1),a("el-divider"),a("div",{ref:"tableBox",staticClass:"flex1"},[a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData.data,height:e.tableHeight,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.row.orderGoods,border:"",align:"center"}},[a("el-table-column",{attrs:{prop:"image",align:"center",label:"购买数量"},scopedSlots:e._u([{key:"default",fn:function(e){return a("el-image",{staticClass:"image-box",attrs:{src:e.row.image,"preview-src-list":[e.row.image]}},[a("div",{staticClass:"image-error-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])}}],null,!0)}),a("el-table-column",{attrs:{prop:"goods_name",align:"center",label:"商品名",width:"180"}}),a("el-table-column",{attrs:{prop:"goods_num",align:"center",label:"商品型号",width:"180"}}),a("el-table-column",{attrs:{prop:"num",align:"center",label:"购买数量"}}),a("el-table-column",{attrs:{prop:"price",align:"center",label:"商品单价"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"id",label:"订单编号",align:"center","min-width":"165px"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",align:"center","min-width":"165px"}}),a("el-table-column",{attrs:{prop:"receive_tel",label:"手机号",align:"center","min-width":"110px"}}),a("el-table-column",{attrs:{prop:"money",label:"总金额",align:"center","min-width":"60px"}}),a("el-table-column",{attrs:{prop:"statusText",label:"状态",align:"center","min-width":"80px"}}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",round:"",size:"mini"},on:{click:function(a){e.infoDialog={show:"orderedit",value:{form:t.row}}}}},[e._v("订单详情")]),2==t.row.status?a("el-button",{attrs:{type:"danger",plain:"",round:"",size:"mini"},on:{click:function(a){e.infoDialog={show:"confirm",value:{form:t.row,PostList:e.PostList}}}}},[e._v("发货")]):e._e(),3==t.row.status?a("el-button",{attrs:{type:"danger",plain:"",round:"",size:"mini"},on:{click:function(a){e.infoDialog={show:"confirm",value:{form:t.row}}}}},[e._v("修改")]):e._e()]}}])})],1)],1),a("el-pagination",{staticStyle:{"margin-top":"15px"},attrs:{background:"",layout:"prev, pager, next","current-page":e.form.page,"page-size":e.tableData.per_page,"page-count":e.tableData.last_page,total:e.tableData.total},on:{"update:currentPage":function(t){return e.$set(e.form,"page",t)},"update:current-page":function(t){return e.$set(e.form,"page",t)}}}),a("orderedit",{attrs:{show:e.infoDialog.show,value:e.infoDialog.value},on:{visibleChange:e.InfoVisibleChange}}),a("confirm",{attrs:{show:e.infoDialog.show,value:e.infoDialog.value},on:{visibleChange:e.InfoVisibleChange}})],1)},o=[],l=a("fd03"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"查看订单",visible:e.show===e.$options.name,"close-on-click-modal":!1,"append-to-body":"",width:"840px"},on:{close:e.close,closed:e.closed}},[a("el-form",{staticClass:"form-box",attrs:{size:"mini","label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"订单编号"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"请输入订单编号",clearable:""},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"交易金额","label-width":"80px"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"订单交易金额",clearable:""},model:{value:e.form.total_amount,callback:function(t){e.$set(e.form,"total_amount",t)},expression:"form.total_amount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货人"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"收货人",clearable:""},model:{value:e.form.consignee,callback:function(t){e.$set(e.form,"consignee",t)},expression:"form.consignee"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货电话","label-width":"80px"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"收货人电话",clearable:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收货地址"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"收货地址",clearable:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"详细地址",clearable:""},model:{value:e.form.addr,callback:function(t){e.$set(e.form,"addr",t)},expression:"form.addr"}})],1)],1),e.form.pay_time?a("el-col",{attrs:{span:12}},[e._v("sn "),a("el-form-item",{attrs:{label:"付款时间"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"付款时间",clearable:""},model:{value:e.form.pay_time,callback:function(t){e.$set(e.form,"pay_time",t)},expression:"form.pay_time"}})],1)],1):e._e(),e.form.shipping_name?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物流公司"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"物流公司",clearable:""},model:{value:e.form.shipping_name,callback:function(t){e.$set(e.form,"shipping_name",t)},expression:"form.shipping_name"}})],1)],1):e._e(),e.form.shipping_sn?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"物流单号"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"物流单号",clearable:""},model:{value:e.form.shipping_sn,callback:function(t){e.$set(e.form,"shipping_sn",t)},expression:"form.shipping_sn"}})],1)],1):e._e(),e.form.shipping_time?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发货时间"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"发货时间",clearable:""},model:{value:e.form.shipping_time,callback:function(t){e.$set(e.form,"shipping_time",t)},expression:"form.shipping_time"}})],1)],1):e._e(),e.form.confirm_time?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"确认收货时间"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"确认收货时间",clearable:""},model:{value:e.form.confirm_time,callback:function(t){e.$set(e.form,"confirm_time",t)},expression:"form.confirm_time"}})],1)],1):e._e(),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"订单留言"}},[a("el-input",{attrs:{disabled:e.isdisabled,placeholder:"订单留言",clearable:""},model:{value:e.form.user_note,callback:function(t){e.$set(e.form,"user_note",t)},expression:"form.user_note"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium"},on:{click:e.close}},[e._v("取 消")]),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.close}},[e._v("确 定")])],1),e.viewIndex>=0?a("el-image-viewer",{attrs:{"on-close":e.viewIndexClose,"url-list":this.form.path,initialIndex:e.viewIndex}}):e._e()],1)],1)},n=[],r=(a("a434"),a("b0c0"),a("08a9")),c={name:"orderedit",components:{ElImageViewer:r["a"]},props:{value:{type:Object},show:{type:String}},computed:{showvideo:function(){return 1!=this.form.type&&""!=this.form.path}},watch:{show:function(e){e===this.$options.name&&(this.$ObjectMixed(this.form,this.value.form),this.uploadData.token=this.$store.getters.getToken,this.uploadcover.token=this.$store.getters.getToken)}},data:function(){return{isdisabled:!0,viewIndex:-1,uploadcover:{url:l["a"]+"admin/upload",token:""},uploadData:{url:l["a"]+"admin/resources/uploadResource",token:"",type:""},form:{token:"",id:"",mobile:"",consignee:"",create_time:"",status:1,address:"",user_id:"",addr:"",total_amount:"",sort:"0"}}},methods:{viewIndexClose:function(){this.viewIndex=-1},handlePreview:function(e){console.log("上传文件")},removeImages:function(e){var t=this;this.$confirm("确定删除此图片吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.form.path.splice(e,1)})).catch((function(){}))},submit:function(){var e=this;Object(l["l"])(this.form).then((function(t){e.$message.success({message:t.msg||"操作成功"}),e.$emit("visibleChange",{getList:!0,show:""})}))},close:function(){this.$emit("visibleChange",{getList:!1,show:""})},closed:function(){Object.assign(this.$data,this.$options.data())},uploadCover:function(e){this.form.cover=e.data,console.log(this.form)}}},m=c,d=(a("767c"),a("2877")),u=Object(d["a"])(m,s,n,!1,null,"41622b92",null),p=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"查看订单",visible:e.show===e.$options.name,"close-on-click-modal":!1,"append-to-body":"",width:"540px"},on:{close:e.close,closed:e.closed}},[a("el-form",{staticClass:"form-box",attrs:{size:"mini","label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"物流公司"}},[a("el-select",{staticStyle:{"margin-right":"15px",width:"250px"},attrs:{size:"small",clearable:"",placeholder:"请选择物流公司"},model:{value:e.form.post_id,callback:function(t){e.$set(e.form,"post_id",t)},expression:"form.post_id"}},e._l(e.PostName,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"物流单号","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入物流单号",clearable:""},model:{value:e.form.post_no,callback:function(t){e.$set(e.form,"post_no",t)},expression:"form.post_no"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium"},on:{click:e.close}},[e._v("取 消")]),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1),e.viewIndex>=0?a("el-image-viewer",{attrs:{"on-close":e.viewIndexClose,"url-list":this.form.path,initialIndex:e.viewIndex}}):e._e()],1)],1)},h=[],b={name:"confirm",components:{ElImageViewer:r["a"]},props:{value:{type:Object},show:{type:String}},watch:{show:function(e){e===this.$options.name&&(this.$ObjectMixed(this.form,this.value.form),console.log(this.value),this.PostName=this.value.PostList)}},data:function(){return{PostName:[],isdisabled:!0,viewIndex:-1,uploadcover:{url:l["a"]+"admin/upload",token:""},form:{token:"",id:"",post_id:"",post_no:""}}},methods:{viewIndexClose:function(){this.viewIndex=-1},submit:function(){console.log(this.form)},close:function(){this.$emit("visibleChange",{getList:!1,show:""})},closed:function(){Object.assign(this.$data,this.$options.data())}}},g=b,v=(a("21ac"),Object(d["a"])(g,f,h,!1,null,"3cbbd812",null)),w=v.exports,x={name:"order",components:{orderedit:p,confirm:w},watch:{"form.page":function(e){e&&this.getList()}},data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value1:"",value2:"",tableHeight:null,infoDialog:{show:"",value:{}},form:{status:"",page:1,id:"",time:[]},statusList:[],PostList:[],tableData:{}}},mounted:function(){this.tableHeight=this.$refs.tableBox.offsetHeight+"px",this.$ObjectMixed(this.form,this.$route.query),this.getStatusList(),this.getList(),this.getPostList()},beforeRouteUpdate:function(e,t,a){Object.assign(this.$data,this.$options.data()),this.getStatusList(),this.getList(),a()},methods:{del:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"}),setResource({id:e.id,mode:"del"}).then((function(e){t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getList:function(){var e=this;console.log(this.form),Object(l["m"])(this.form).then((function(t){e.tableData=t.data,console.log(t.data)}))},getPostList:function(){var e=this;Object(l["i"])(this.form).then((function(t){e.PostList=t.data}))},InfoVisibleChange:function(e){e.show||(this.infoDialog.value={},this.infoDialog.show=""),e.getList&&this.getList()},getStatusList:function(){}}},_=x,k=(a("b5f7"),Object(d["a"])(_,i,o,!1,null,"37f046da",null));t["default"]=k.exports},"767c":function(e,t,a){"use strict";var i=a("07a9"),o=a.n(i);o.a},a434:function(e,t,a){"use strict";var i=a("23e7"),o=a("23cb"),l=a("a691"),s=a("50c4"),n=a("7b0b"),r=a("65f0"),c=a("8418"),m=a("1dde"),d=a("ae40"),u=m("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!p},{splice:function(e,t){var a,i,m,d,u,p,v=n(this),w=s(v.length),x=o(e,w),_=arguments.length;if(0===_?a=i=0:1===_?(a=0,i=w-x):(a=_-2,i=h(f(l(t),0),w-x)),w+a-i>b)throw TypeError(g);for(m=r(v,i),d=0;d<i;d++)u=x+d,u in v&&c(m,d,v[u]);if(m.length=i,a<i){for(d=x;d<w-i;d++)u=d+i,p=d+a,u in v?v[p]=v[u]:delete v[p];for(d=w;d>w-i+a;d--)delete v[d-1]}else if(a>i)for(d=w-i;d>x;d--)u=d+i-1,p=d+a-1,u in v?v[p]=v[u]:delete v[p];for(d=0;d<a;d++)v[d+x]=arguments[d+2];return v.length=w-i+a,m}})},b5f7:function(e,t,a){"use strict";var i=a("dfdb"),o=a.n(i);o.a},dfdb:function(e,t,a){},ec51:function(e,t,a){}}]);